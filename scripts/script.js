const translations = {

    EN: {
        "nav-about": "About",
        "nav-skills": "Skills",
        "nav-projects": "Projects",
        "nav-contact": "Contact",
        "intro-text": "Hi, I'm Hatim, an aspiring Software Engineer with a strong foundation in web development (HTML, CSS, JavaScript) and programming (Python, Java). I'm passionate about building clean, responsive code and turning ideas into real projects. Dedicated to constantly improving my skills, I approach every project with careful planning, attention to detail, and a drive to create professional, user-friendly experiences.",
        
        "about-title": "About Me",
        "about-text": "I am an aspiring Software Engineer passionate about building clean, efficient, and impactful applications. I enjoy turning ideas into real-world projects and continuously improving my skills through hands-on coding and learning. I currently work mainly with HTML5, CSS3, and JavaScript for web development, as well as Python and Java for broader software programming. I'm focused on mastering strong programming fundamentals to create professional, reliable software solutions. My goal is to continue growing as a versatile developer, taking on new challenges across web and software development, and contributing to real-world projects in collaborative, innovative environments. Outside of coding, I enjoy team sports - especially soccer and basketball - and I love exploring new technologies.",
        
        "skills-title": "My Skills",
        "skills-web-title": "Web Development",
        "skills-web": ["HTML5", "CSS3", "JavaScript"],
        
        "skills-programming-title": "Programming Languages",
        "skills-programming": ["Python", "Java"],
        
        "skills-tools-title": "Tools & Technologies",
        "skills-tools": ["Git (basic version control)", "Microsoft Word, Excel, PowerPoint", "Responsive Design Principles"],
        
        "skills-other-title": "Other Skills",
        "skills-other": ["Problem Solving", "Attention to Detail", "Continuous Learning Mindset"],

        "project1-title": "Project 1: Student Task Manager",
        "project1-description": "Description: A Django web app that lets students manage tasks by category, with countdowns and progress stats.",
        "project1-features": {
            title: "Main features:",
            items: [
                "Organizes tasks by category (homework, exams, etc.)",
                "Tracks deadlines with countdowns",
                "Displays task progress and stats on a dashboard",
            ]
        },
        "project1-skills": "Skills Used: Python, Django, SQLite, HTML, and CSS.",
        "project1-purpose": "Purpose: To help students stay organized, manage their academic tasks efficiently, and reduce stress by providing a clear overview of their assignments and deadlines.",
        "project1-github": {
            label: "GitHub Repository:",
            text: "[Link to project]",
            url: "https://github.com/hat077/StudentTaskManager"
        },
        
        "project2-title": "Project 2: Portfolio Website",
        "project2-description": "Description: A personal portfolio website built with HTML5, CSS3, and JavaScript.",
        "project2-features": "Main Features: Responsive layout, smooth navigation, clean UI design, organized sections (About, Skills, Projects, Contact).",
        "project2-skills": "Skills Used: HTML, CSS, JavaScript, Responsive Design principles.",
        "project2-purpose": "Purpose: To showcase my skills, introduce myself to potential employers, and build my first independant project.",
        
        "project3-title": "Project 3: Academic Website Development",
        "project3-description": "Description: Contributed to the development of a website presenting a product as part of an academic project.",
        "project3-features": {
            title: "Main Features:",
            items: [
                "Coded the homepage and features page.",
                "Integrated a product summary and navigation buttons linking different sections.",
                "Developed an interactive animation: a JavaScript-based emoji that changes its expression every second from a predefined list.",
            ]
        },
        "project3-skills": "Skills Used: HTML5, CSS3, JavaScript.",
        "project3-purpose": "Purpose: To gain practical experience in building interactive web features and working within project specifications in a team.",
        "project3-github": {
            label: "GitHub Repository:",
            text: "[Link to project]",
            url: "https://github.com/yxsmine01/StartUpProjectMoody"
        },

        "contact-title": "Contact Me",
        "contact-intro": "Feel free to contact me if you have an opportunity, a project idea, or just want to connect!",
        "contact-details-title": "Contact Details",
        "contact-details": {
            email: "Email Address: oudhatim07@gmail.com",
            phone: "Phone Number: +1 (819)-930-9409"
        },
        "linkedin-profile": {
            label: "LinkedIn Profile:",
            text: "LinkedIn",
            url: "https://www.linkedin.com/in/hatim-oudghiri-558420285/"
        },
        "github-profile": {
            label: "GitHub Profile:",
            text: "GitHub",
            url: "https://github.com/hat077"
        }
    },

    FR: {
        "nav-about": "À propos",
        "nav-skills": "Compétences",
        "nav-projects": "Projets",
        "nav-contact": "Contact",
        "intro-text": "Bonjour, je m'appelle Hatim, un futur ingénieur logiciel avec une solide base en développement web (HTML, CSS, JavaScript) et en programmation (Python, Java). Je suis passionné par la création de code propre et réactif et par la transformation d'idées en projets concrets. Dévoué à améliorer constamment mes compétences, j'aborde chaque projet avec une planification soignée, une grande attention aux détails et le désir de créer des expériences professionnelles et conviviales.",

        "about-title": "À propos de moi",
        "about-text": "Je suis un futur ingénieur logiciel passionné par la création d'applications propres, efficaces et percutantes. J’aime transformer des idées en projets concrets et je m’améliore continuellement grâce à la pratique et à l’apprentissage. Je travaille principalement avec HTML5, CSS3 et JavaScript pour le web, ainsi que Python et Java pour la programmation logicielle. Je me concentre sur la maîtrise des bases solides en programmation afin de créer des solutions fiables et professionnelles. Mon objectif est de devenir un développeur polyvalent, relever de nouveaux défis et contribuer à des projets collaboratifs et innovants. En dehors du code, j’aime les sports d’équipe – en particulier le football et le basketball – et découvrir de nouvelles technologies.",

        "skills-title": "Mes Compétences",
        "skills-web-title": "Développement Web",
        "skills-web": ["HTML5", "CSS3", "JavaScript"],

        "skills-programming-title": "Langages de Programmation",
        "skills-programming": ["Python", "Java"],

        "skills-tools-title": "Outils & Technologies",
        "skills-tools": ["Git (contrôle de version de base)", "Microsoft Word, Excel, PowerPoint", "Principes de design responsive"],

        "skills-other-title": "Autres Compétences",
        "skills-other": ["Résolution de problèmes", "Souci du détail", "Esprit d'apprentissage continu"],

        "project1-title": "Projet 1 : Gestionnaire de Tâches Étudiant",
        "project1-description": "Description: Une application web Django qui permet aux étudiants de gérer leurs tâches par catégorie, avec des comptes à rebours et des statistiques de progression.",
        "project1-features": {
            title: "Fonctionnalités principales :",
            items: [
                "Organise les tâches par catégorie (devoirs, examens, etc.)",
                "Suivi des délais avec des comptes à rebours",
                "Affiche les progrès des tâches et des statistiques sur un tableau de bord",
            ]
        },
        "project1-skills": "Compétences utilisées : Python, Django, SQLite, HTML, et CSS.",
        "project1-purpose": "Objectif : Aider les étudiants à rester organisés, gérer efficacement leurs tâches académiques et réduire le stress en fournissant une vue d'ensemble claire de leurs devoirs et délais.",
        "project1-github": {
            label: "Dépôt GitHub :",
            text: "[Lien vers le projet]",
            url: "https://github.com/hat077/StudentTaskManager"
        },

        "project2-title": "Projet 2 : Site Portfolio",
        "project2-description": "Description : Un site portfolio personnel construit avec HTML5, CSS3 et JavaScript.",
        "project2-features": "Fonctionnalités principales : Mise en page responsive, navigation fluide, design UI épuré, sections organisées (À propos, Compétences, Projets, Contact).",
        "project2-skills": "Compétences utilisées : HTML, CSS, JavaScript, principes de design responsive.",
        "project2-purpose": "Objectif : Mettre en valeur mes compétences, me présenter aux employeurs potentiels et réaliser mon premier projet indépendant.",

        "project3-title": "Projet 3 : Développement de Site Académique",
        "project3-description": "Description : Contribution au développement d'un site web présentant un produit dans le cadre d’un projet académique.",
        "project3-features": {
            title: "Fonctionnalités principales :",
            items: [
                "Codage de la page d'accueil et de la page des fonctionnalités.",
                "Intégration d'un résumé du produit et de boutons de navigation reliant les différentes sections.",
                "Développement d'une animation interactive : un émoji basé en JavaScript qui change d'expression chaque seconde à partir d'une liste prédéfinie."
            ]
        },
        "project3-skills": "Compétences utilisées : HTML5, CSS3, JavaScript.",
        "project3-purpose": "Objectif : Acquérir de l'expérience pratique dans la création de fonctionnalités interactives et le travail en équipe selon un cahier des charges.",
        "project3-github": {
            label: "Dépôt GitHub :",
            text: "[Lien vers le projet]",
            url: "https://github.com/yxsmine01/StartUpProjectMoody"
        },

        "contact-title": "Me Contacter",
        "contact-intro": "N'hésitez pas à me contacter si vous avez une opportunité, une idée de projet, ou si vous souhaitez simplement échanger !",
        "contact-details-title": "Coordonnées",
        "contact-details": {
            email: "Adresse e-mail : oudhatim07@gmail.com",
            phone: "Numéro de téléphone : +1 (819)-930-9409"
        },
        "linkedin-profile": {
            label: "Profil LinkedIn :",
            text: "LinkedIn",
            url: "https://www.linkedin.com/in/hatim-oudghiri-558420285/"
        },
        "github-profile": {
            label: "Profil GitHub :",
            text: "GitHub",
            url: "https://github.com/hat077"
        }
    }
};

let language = 'EN';

function setLanguage(lang) {
    document.querySelectorAll('[data-key]').forEach(item => {
        const key = item.getAttribute('data-key');
        const translation = key.split('.').reduce((o, i) => (o ? o[i] : null), translations[lang]);

        if (!translation) return;

        if (typeof translation === 'string') {
            item.textContent = translation;
            return;
        }

        if (translation.label && translation.text && translation.url) {
            item.textContent = translation.label;

            const sibling = item.nextElementSibling;
            if (sibling && sibling.tagName === 'A') {
                sibling.textContent = translation.text;
                sibling.href = translation.url;
            }
            return;
        }

        if (item.tagName === 'A' && translation.text && translation.url) {
            item.textContent = translation.text;
            item.href = translation.url;
            return;
        }

        if (translation.title && Array.isArray(translation.items)) {
            item.textContent = translation.title;

            const next = item.nextElementSibling;
            if (next && next.tagName === 'UL') next.remove();

            const ul = document.createElement('ul');
            translation.items.forEach(text => {
                const li = document.createElement('li');
                li.textContent = text;
                ul.appendChild(li);
            });

            item.parentNode.insertBefore(ul, item.nextSibling);
            return;
        }

        if (Array.isArray(translation)) {
            item.textContent = "";

            const next = item.nextElementSibling;
            if (next && next.tagName === 'UL') next.remove();

            const ul = document.createElement('ul');
            translation.forEach(text => {
                const li = document.createElement('li');
                li.textContent = text;
                ul.appendChild(li);
            });

            item.parentNode.insertBefore(ul, item.nextSibling);
            return;
        }
    });
}

document.getElementById('change-language').addEventListener('click', function () {
    language = (language === 'FR') ? 'EN' : 'FR';
    document.getElementById('change-language').textContent = (language === 'EN') ? 'FR' : 'EN';
    setLanguage(language);
});

